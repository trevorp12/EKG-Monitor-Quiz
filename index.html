<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECG Rhythm Quiz</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', sans-serif; background: #121212; color: #e0e0e0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        #header { max-width: 800px; width: 100%; text-align: center; margin-bottom: 20px; }
        #category-bar { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 15px; }
        .category-btn { background: #1f1f1f; color: #fff; border: 1px solid #444; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; transition: 0.2s; }
        .category-btn:hover, .category-btn.active { background: #00aaff; color: #000; }
        #quiz-settings { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; margin-bottom: 15px; }
        #quiz-settings select, #start-btn { padding: 8px 12px; border-radius: 6px; border: 1px solid #444; background: #1f1f1f; color: #e0e0e0; font-size: 14px; }
        #start-btn { background: #00ff88; color: #000; font-weight: bold; cursor: pointer; }
        #start-btn:hover { background: #00cc70; }
        #monitor { width: 100%; max-width: 800px; height: 200px; background: #1a1a1a; border: 2px solid #333; border-radius: 8px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.6); }
        #ecg-image { width: 100%; height: 100%; object-fit: contain; }
        #quiz-container { max-width: 600px; background: #1f1f1f; padding: 25px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.6); text-align: center; }
        #question { font-size: 20px; font-weight: bold; margin-bottom: 15px; }
        #options { list-style: none; margin: 0; padding: 0; }
        #options li { margin: 10px 0; padding: 12px; background: #2a2a2a; border: 1px solid #444; border-radius: 6px; cursor: pointer; }
        #options li:hover { background: #3a3a3a; }
        #options li.selected { background: #00ff88; color: #000; font-weight: bold; }
        #feedback { margin-top: 20px; padding: 10px; background: #2a2a2a; border-radius: 6px; min-height: 50px; }
        #score { font-size: 28px; font-weight: bold; margin: 20px 0; display: none; }
        button { background: #00ff88; color: #000; border: none; padding: 10px 20px; font-size: 16px; border-radius: 6px; cursor: pointer; font-weight: bold; margin: 10px 5px; }
        button:hover { background: #00cc70; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div id="header">
    <h1>ECG Rhythm Quiz</h1>
    <div id="category-bar">
        <button class="category-btn active" data-type="all">All Rhythms</button>
        <button class="category-btn" data-type="nsr">NSR</button>
        <button class="category-btn" data-type="tach">Tach</button>
        <button class="category-btn" data-type="brad">Brad</button>
        <button class="category-btn" data-type="vfib">V-Fib</button>
        <button class="category-btn" data-type="vtach">V-Tach</button>
        <button class="category-btn" data-type="block1">1Â° Block</button>
        <button class="category-btn" data-type="pac">PAC</button>
        <button class="category-btn" data-type="pvc">PVC</button>
        <button class="category-btn" data-type="asystole">Asystole</button>
    </div>
    <div id="quiz-settings">
        <select id="question-count">
            <option value="10">10 Questions</option>
            <option value="15" selected>15 Questions</option>
            <option value="20">20 Questions</option>
            <option value="25">25 Questions</option>
        </select>
        <button id="start-btn">Start Quiz</button>
    </div>
</div>

<div id="monitor">
    <img id="ecg-image" src="" alt="ECG Strip">
</div>

<div id="quiz-container" class="hidden">
    <div id="question"></div>
    <ul id="options"></ul>
    <button id="submit-btn">Submit Answer</button>
    <button id="next-btn" class="hidden">Next Question</button>
    <div id="feedback"></div>
    <div id="score"></div>
</div>

<script>
    // Base64 ECG Images (5 per rhythm)
    const ecgImages = {
        // NSR
        'NSR 60bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'NSR 70bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'NSR 80bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'NSR 90bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'NSR 100bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        // Sinus Tach
        'Sinus Tach 110bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'Sinus Tach 130bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'Sinus Tach 150bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'Sinus Tach 170bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'Sinus Tach 180bpm': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        // V-Fib
        'Coarse V-Fib': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'Fine V-Fib': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'Medium V-Fib': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'High Freq V-Fib': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        'Low Amp V-Fib': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAABCH...' ,
        // Asystole
        'Asystole': 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA
